---
import ToolLayout from '../layouts/ToolLayout.astro';
import FAQ from '../components/FAQ.astro';
import AdUnit from '../components/AdUnit.astro';

const title = 'GPA to Percentage Converter';
const description = 'Convert GPA to percentage instantly. Free GPA to percentage calculator with conversion chart for 4.0, 5.0, and 10.0 scale. Accurate results for all grading systems.';

const schema = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "GPA to Percentage Converter",
  "description": description,
  "applicationCategory": "EducationalApplication",
  "operatingSystem": "Web",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  }
};

const faqs = [
  {
    question: "How do I convert GPA to percentage?",
    answer: "The most common formula is: <strong>Percentage = GPA x 25</strong> (for 4.0 scale). For example, a 3.5 GPA equals 87.5%. However, different schools may use different conversion methods, so always check with your institution."
  },
  {
    question: "What percentage is a 3.0 GPA?",
    answer: "A 3.0 GPA typically equals <strong>75%</strong> using the standard formula (3.0 x 25 = 75). This corresponds to a B grade in most US grading systems."
  },
  {
    question: "What percentage is a 4.0 GPA?",
    answer: "A perfect 4.0 GPA equals <strong>100%</strong> using the standard formula (4.0 x 25 = 100). However, some schools cap percentages at 95% or use different scales."
  },
  {
    question: "Is GPA to percentage conversion the same worldwide?",
    answer: "No, conversion formulas vary by country and institution. The US typically uses a 4.0 scale, India often uses CGPA on a 10-point scale, and many countries use percentage-based systems directly. Always verify with your specific institution."
  },
  {
    question: "How do I convert CGPA to percentage in India?",
    answer: "For Indian universities, the common formula is: <strong>Percentage = CGPA x 9.5</strong>. For example, a CGPA of 8.0 equals 76% (8.0 x 9.5 = 76). Some universities use different multipliers (9.0 or 10.0)."
  },
  {
    question: "What's the difference between GPA and CGPA?",
    answer: "GPA (Grade Point Average) typically refers to a single semester or term. CGPA (Cumulative GPA) refers to the overall average across all semesters. Both can be converted to percentage using the same formulas."
  }
];

const conversionTable = [
  { gpa: '4.0', percentage: '100%', grade: 'A+' },
  { gpa: '3.9', percentage: '97.5%', grade: 'A+' },
  { gpa: '3.8', percentage: '95%', grade: 'A' },
  { gpa: '3.7', percentage: '92.5%', grade: 'A-' },
  { gpa: '3.6', percentage: '90%', grade: 'A-' },
  { gpa: '3.5', percentage: '87.5%', grade: 'B+' },
  { gpa: '3.4', percentage: '85%', grade: 'B+' },
  { gpa: '3.3', percentage: '82.5%', grade: 'B+' },
  { gpa: '3.2', percentage: '80%', grade: 'B' },
  { gpa: '3.1', percentage: '77.5%', grade: 'B' },
  { gpa: '3.0', percentage: '75%', grade: 'B' },
  { gpa: '2.9', percentage: '72.5%', grade: 'B-' },
  { gpa: '2.8', percentage: '70%', grade: 'B-' },
  { gpa: '2.7', percentage: '67.5%', grade: 'C+' },
  { gpa: '2.5', percentage: '62.5%', grade: 'C' },
  { gpa: '2.3', percentage: '57.5%', grade: 'C' },
  { gpa: '2.0', percentage: '50%', grade: 'C' },
  { gpa: '1.5', percentage: '37.5%', grade: 'D' },
  { gpa: '1.0', percentage: '25%', grade: 'D' },
  { gpa: '0.0', percentage: '0%', grade: 'F' },
];
---

<ToolLayout title={title} description={description} schema={schema} faqs={faqs} breadcrumbs={[
  { name: 'Home', url: 'https://gpacalc.app/' },
  { name: 'GPA to Percentage', url: 'https://gpacalc.app/gpa-to-percentage/' }
]}>
  <section class="mb-6">
    <h1 class="text-3xl md:text-4xl font-extrabold text-stone-900 mb-3 tracking-tight">
      GPA to Percentage Converter
    </h1>
    <p class="text-lg text-stone-500 font-medium max-w-2xl">
      Instantly convert your GPA to percentage. Works with 4.0, 5.0, and 10.0 grading scales.
    </p>
  </section>

  <section class="mb-10">
    <div class="bg-white border border-stone-200 rounded-2xl p-6 md:p-8">
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h2 class="text-lg font-bold text-stone-900 mb-4">Enter Your GPA</h2>

          <div class="mb-4">
            <label for="scale-select" class="block text-xs font-bold text-stone-400 uppercase tracking-wider mb-1.5">Grading Scale</label>
            <select id="scale-select" class="w-full px-4 py-2.5 border-1.5 border-stone-200 rounded-xl bg-[#FFFBF5] font-semibold text-stone-900 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500">
              <option value="4.0">4.0 Scale (US Standard)</option>
              <option value="5.0">5.0 Scale (Weighted)</option>
              <option value="10.0">10.0 Scale (India CGPA)</option>
            </select>
          </div>

          <div class="mb-4">
            <label for="gpa-input" class="block text-xs font-bold text-stone-400 uppercase tracking-wider mb-1.5">Your GPA</label>
            <input type="number" id="gpa-input" min="0" max="4" step="0.01" placeholder="e.g., 3.50" class="w-full px-4 py-2.5 border-1.5 border-stone-200 rounded-xl bg-[#FFFBF5] font-semibold text-stone-900 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500" />
          </div>

          <button type="button" id="convert-btn" class="w-full bg-[#10B981] text-white font-bold py-3 px-6 rounded-xl hover:bg-emerald-600 transition-colors shadow-[3px_3px_0px_#1C1917]">
            Convert to Percentage
          </button>
        </div>

        <div class="flex items-center justify-center">
          <div id="result-section" class="text-center hidden">
            <p class="text-xs font-bold text-stone-400 uppercase tracking-wider mb-2">Your Percentage</p>
            <p id="percentage-result" class="text-5xl font-extrabold text-emerald-600">0%</p>
            <p class="text-sm text-stone-400 mt-2">
              Letter Grade: <span id="letter-result" class="font-bold text-stone-900">-</span>
            </p>
          </div>
          <div id="placeholder-section" class="text-center text-stone-300">
            <svg class="w-16 h-16 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
            <p>Enter your GPA above</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <AdUnit placement="in-content" />

  <script>
    type TrackPayload = Record<string, string | number | boolean>;
    const trackEvent = (name: string, payload: TrackPayload = {}) => {
      const umami = (window as Window & {
        umami?: {
          track?: (eventName: string, eventData?: TrackPayload) => void;
        };
      }).umami;
      if (!umami?.track) return;
      umami.track(name, payload);
    };

    const scaleSelect = document.getElementById('scale-select') as HTMLSelectElement;
    const gpaInput = document.getElementById('gpa-input') as HTMLInputElement;
    const convertBtn = document.getElementById('convert-btn');
    const resultSection = document.getElementById('result-section');
    const placeholderSection = document.getElementById('placeholder-section');
    const percentageResult = document.getElementById('percentage-result');
    const letterResult = document.getElementById('letter-result');

    scaleSelect?.addEventListener('change', () => {
      const scale = parseFloat(scaleSelect.value);
      gpaInput.max = scale.toString();
      gpaInput.placeholder = `e.g., ${(scale * 0.875).toFixed(2)}`;
      trackEvent('gpa_to_percentage_scale_changed', { scale });
    });

    convertBtn?.addEventListener('click', () => {
      const scale = parseFloat(scaleSelect?.value || '4.0');
      const gpa = parseFloat(gpaInput?.value || '0');

      if (isNaN(gpa) || gpa < 0 || gpa > scale) {
        trackEvent('gpa_to_percentage_invalid_input', { scale });
        alert(`Please enter a valid GPA between 0 and ${scale}`);
        return;
      }

      let percentage: number;
      let multiplier: number;

      if (scale === 4.0) {
        multiplier = 25;
      } else if (scale === 5.0) {
        multiplier = 20;
      } else {
        multiplier = 9.5;
      }

      percentage = gpa * multiplier;
      percentage = Math.min(100, percentage);

      let letter = 'F';
      if (percentage >= 93) letter = 'A';
      else if (percentage >= 90) letter = 'A-';
      else if (percentage >= 87) letter = 'B+';
      else if (percentage >= 83) letter = 'B';
      else if (percentage >= 80) letter = 'B-';
      else if (percentage >= 77) letter = 'C+';
      else if (percentage >= 73) letter = 'C';
      else if (percentage >= 70) letter = 'C-';
      else if (percentage >= 67) letter = 'D+';
      else if (percentage >= 60) letter = 'D';

      if (percentageResult) percentageResult.textContent = percentage.toFixed(1) + '%';
      if (letterResult) letterResult.textContent = letter;

      placeholderSection?.classList.add('hidden');
      resultSection?.classList.remove('hidden');
      trackEvent('gpa_to_percentage_converted', {
        scale,
        gpa: Number(gpa.toFixed(2)),
        percentage: Number(percentage.toFixed(1)),
        letter
      });
    });
  </script>

  <section class="mb-10">
    <h2 class="text-2xl font-bold text-stone-900 mb-4 tracking-tight">How to Convert GPA to Percentage</h2>
    <div class="space-y-6 text-stone-500 font-medium leading-relaxed">
      <p>Converting GPA to percentage depends on the grading scale used by your institution.</p>

      <div>
        <h3 class="text-lg font-bold text-stone-900 mb-2">4.0 Scale (US Standard)</h3>
        <div class="bg-emerald-50 rounded-xl p-4 font-mono text-center text-stone-900">Percentage = GPA x 25</div>
        <p class="mt-2">Example: 3.5 x 25 = <strong class="text-stone-900">87.5%</strong></p>
      </div>

      <div>
        <h3 class="text-lg font-bold text-stone-900 mb-2">10.0 Scale (India CGPA)</h3>
        <div class="bg-orange-50 rounded-xl p-4 font-mono text-center text-stone-900">Percentage = CGPA x 9.5</div>
        <p class="mt-2">Example: 8.0 x 9.5 = <strong class="text-stone-900">76%</strong></p>
      </div>

      <div>
        <h3 class="text-lg font-bold text-stone-900 mb-2">5.0 Scale (Weighted)</h3>
        <div class="bg-stone-100 rounded-xl p-4 font-mono text-center text-stone-900">Percentage = GPA x 20</div>
        <p class="mt-2">Example: 4.5 x 20 = <strong class="text-stone-900">90%</strong></p>
      </div>
    </div>
  </section>

  <section class="mb-10">
    <h2 class="text-2xl font-bold text-stone-900 mb-4 tracking-tight">GPA to Percentage Conversion Chart</h2>
    <p class="text-stone-500 mb-4">Quick reference for 4.0 scale:</p>
    <div class="bg-white border border-stone-200 rounded-2xl overflow-hidden">
      <table class="w-full text-sm">
        <thead class="text-xs text-stone-400 uppercase tracking-wider bg-stone-50 border-b border-stone-200">
          <tr>
            <th class="px-4 py-3 text-left font-semibold">GPA</th>
            <th class="px-4 py-3 text-left font-semibold">Percentage</th>
            <th class="px-4 py-3 text-left font-semibold">Letter Grade</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-stone-100">
          {conversionTable.map(row => (
            <tr>
              <td class="px-4 py-2.5 font-semibold text-stone-900">{row.gpa}</td>
              <td class="px-4 py-2.5 text-emerald-600 font-semibold">{row.percentage}</td>
              <td class="px-4 py-2.5 text-stone-500">{row.grade}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>

  <section class="mb-10">
    <h2 class="text-2xl font-bold text-stone-900 mb-4 tracking-tight">Why Convert GPA to Percentage?</h2>
    <div class="text-stone-500 font-medium leading-relaxed space-y-3">
      <ul class="list-disc pl-6 space-y-2">
        <li><strong class="text-stone-700">International applications</strong> - Universities in countries using percentage-based grading</li>
        <li><strong class="text-stone-700">Job applications</strong> - Some employers request grades as percentages</li>
        <li><strong class="text-stone-700">Scholarship requirements</strong> - Minimum percentage thresholds</li>
        <li><strong class="text-stone-700">Comparing grades</strong> - Understanding your GPA on a percentage scale</li>
        <li><strong class="text-stone-700">Academic records</strong> - Percentage equivalents for transcripts</li>
      </ul>
    </div>
  </section>

  <FAQ items={faqs} />
</ToolLayout>
